function row=selectrow(currentrow, randomized)% select a row from input file% requires presence of FILES mex extension% as well as an input file to be openrow=-1;ntrials=0;nrows=FILES('rows');for r=1:nrows	ntrials=ntrials+FILES('read', 'NUMBER', r);endif ntrials<=0	row=-1;	return;endif randomized<=0	row=currentrow+1;	if row <= 0		row=1;	end	if row > nrows		row=1;	endelse	while 1		r=round(1+rand(1,1)*(nrows-1));		n=FILES('read', 'NUMBER', r);		if n>0			row=r;			break;		end	end	end