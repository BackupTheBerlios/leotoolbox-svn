function [par, stop]=getparamsandfilenames(par, parameters)maxattempts=5; % max nr of attempts to get proper inputi=0;while 1	[par, stop]=getparams(par, parameters, i);	if stop==1		fprintf('\nStopped\n'); return;	end	[myerr,par]=checkfilenames(par);% check values	if myerr==0		break;	end	i=i+1;	if i>maxattempts 		fprintf('\nToo many attempts.\n');		stop=1;		return;	endendpar.rows=FILES('open', par.infilename);if par.rows<1	fprintf('Error: Input file ''%s'' contains no data or other error.\n', par.infilename);	stop=1;	return;end