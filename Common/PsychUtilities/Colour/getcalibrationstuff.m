function [M, Mi, luts, dark, dacvals, prim]=getcalibrationstuff(calfile, reorder, modify, interpolate)% wrapper function for all calibration related functions% USAGE: [M, Mi, luts, dark, dacvals]=getcolourstuff(calfile [, reorder, modify, interpolate])% reorder: for calibration file with Yxy instead of xyY order% modify: for applying LCD modification to the luts and xy data% interpolate: interpolate intermediate dac values% defaults: reorder=0, modify=0, interpolate=1% comments to Frans W. Cornelissen, email: f.w.cornelissen@med.rug.nl% History% 16-02-04  fwc first versionif ~exist('reorder', 'var') | isempty(reorder)    reorder=0;endif ~exist('modify', 'var') | isempty(modify)    modify=0;endif ~exist('interpolate', 'var') | isempty(interpolate)    interpolate=1;end% colour stuff[xyY, dacvals]=loadxyY(calfile); % load xyY data for all channelsif reorder==1 % only necessary for older calibration files    xyY=reorderYxy(xyY);endif modify==1    xyY=modlcdcal(xyY);end[M, Mi, luts, dark, prim]=getLutsAndCalConvMatr(xyY);% interpolate intermediate lut values% figure(101);% plot(luts)if interpolate==1    [luts,dacvals]=interpolatelut(luts, dacvals);end% figure(102);% plot(luts)