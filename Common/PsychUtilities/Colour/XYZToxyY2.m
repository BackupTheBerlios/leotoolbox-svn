function xyY=XYZToxyY(XYZ)% convert between tristimulus and cie xyY values%	22-09-04 fwc	changed to accept arrays (i.e. images)if size(XYZ,2)~=3	fprintf('XYZToxyY2: second dim of XYZ should be 3 (=%d)\n', size(XYZ,2));end						% size(XYZ);s=sum(XYZ,2);q=find(s~=0);size(q);%nq=find(sum(XYZ,2)==0);xyY=zeros(size(XYZ));xyY(q,1)=XYZ(q,1)./s(q);xyY(q,2)=XYZ(q,2)./s(q);xyY(:,3)=XYZ(:,2);% xyY(nq,1)=0;% xyY(nq,2)=0;