function lum = dacToLum( dac, lut, gun )% 	return lum value produced by dac value of particular gun%%	16/7/2000 fwc   increased dac value by 1 to convert from dac value to%	                matrix index%   050204    fwc   version for new colour routines, lut is organized as dacxgunschannel={'red', 'green', 'blue', 'gray', 'unknown', 'unknown'};[high, nluts] = size(lut);lum = -1; % error valueif gun > nluts	fprintf( '\ndacToLum err: no lut for ''%s'' channel (max: %d).\n', channel{gun}, nluts );	return;enddac=round(dac)+1;if dac > high | dac < 1	fprintf( '\ndacToLum err: ''%d'' not a valid dac value for ''%s'' channel.\n', dac-1, channel{gun} );	return;endlum = lut(dac, gun);